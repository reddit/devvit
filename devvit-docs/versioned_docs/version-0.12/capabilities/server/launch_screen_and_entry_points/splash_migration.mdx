# Migrating from Splash Screens

If you're updating an existing app that used the deprecated splash parameter in `submitCustomPost()`, you'll need to migrate to HTML-based launch screens with multiple entry points.

<iframe 
  src="https://www.youtube.com/embed/uoRAr5h-blI" 
  title="Migrating from Splash Screens Tutorial" 
  width="700"
  height="400"
  frameBorder="0" 
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
  allowFullScreen
/>

**The old splash parameter (deprecated)**

```tsx
await reddit.submitCustomPost({
  subredditName: context.subredditName,
  title: 'My Game',
  splash: {
    appDisplayName: 'My Game',
    backgroundUri: 'background.png',
    buttonLabel: 'Play Now',
    description: 'An exciting game',
    heading: 'Welcome!',
  },
});
```

**The new launch screen (current)**

```tsx
await reddit.submitCustomPost({ title: 'Tennis Match #37' }); // implicitly default entry
await reddit.submitCustomPost({ title: 'Tennis Leaderboard', entry: 'leaderboard' }); // not a URI, an entry name.
```

**Migration instructions**

1. Update your `devvit.json` to define both preview and game entry points.

```tsx title="devvit.json"
{
  "post": {
    "dir": "dist/client",
    "entrypoints": {
      "default": {
        "entry": "splash.html",
        "height": "regular",
	 "inline": true
      },
      "game": {
        "entry": "index.html",
        "height": "tall"
      }
    }
  }
}
```

Esbuild would probably be simpler and add fewer dependencies, but you can also use Vite.

```tsx
{
  ...all your normal vite nonsense...
  build: {
    input: ['splash.html', 'game.html'], <-- add your entrypoints
    ...
  }
}
```

2. Create a `splash.html` file with a button to launch into the game.

```html title="splash.html"
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Game</title>
    <script src="preview.js"></script>
  </head>
  <body>
    <div class="preview-container">
      <h1>My Game</h1>
      <p>An exciting game</p>
      <button id="play-button">Play Now</button>
    </div>
  </body>
</html>
```

```tsx title="preview.js"
import { requestExpandedMode } from '@devvit/web/client';

document.addEventListener('DOMContentLoaded', () => {
  const playButton = document.getElementById('play-button');

  playButton.addEventListener('click', async (event) => {
    try {
      await requestExpandedMode(event, 'game');
    } catch (error) {
      console.error('Failed to enter expanded mode:', error);
    }
  });
});
```

3. Update your post creation to use the default (preview) entry point.

```tsx
await reddit.submitCustomPost({
  subredditName: context.subredditName,
  title: 'My Game',
  entry: 'default',
});
```

Now your app will load the launch screen in inline mode. When users click "Play Now", the game will transition to expanded mode (`index.html`).
